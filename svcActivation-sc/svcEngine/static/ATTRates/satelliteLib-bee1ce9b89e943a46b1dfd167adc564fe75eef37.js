// Satellite Library
// Property: AT&amp;T.com GLOBAL
// All code and conventions are protected by copyright
// Search Discovery, Inc.
(function(e,t,n){function u(){s.addEventHandler(e,"orientationchange",u.orientationChange)}function a(){this.rules=s.filter(s.rules,function(e){return e.event==="elementexists"})}function f(){this.rules=s.filter(s.rules,function(e){return e.event.substring(0,11)==="videoplayed"}),this.eventHandler=s.bind(this.onUpdateTime,this)}function l(){var e=this.eventRegex=/^hover\(([0-9]+)\)$/,t=this.rules=[];s.each(s.rules,function(n){var r=n.event.match(e);r&&t.push([Number(n.event.match(e)[1]),n.selector])})}function c(){function n(){var n=e.twttr;n&&n.events&&n.events.bind&&n.events.bind("tweet",function(e){e&&(s.notify("tracking a tweet button",1),s.onEvent({type:"twitter.tweet",target:t}))})}s.domReady(n)}function h(){function n(){var n=e.FB;if(n&&n.Event&&n.Event.subscribe)try{n.Event.subscribe("edge.create",function(){s.notify("tracking a facebook like",1),s.onEvent({type:"facebook.like",target:t})}),n.Event.subscribe("edge.remove",function(){s.notify("tracking a facebook unlike",1),s.onEvent({type:"facebook.unlike",target:t})}),n.Event.subscribe("message.send",function(){s.notify("tracking a facebook share",1),s.onEvent({type:"facebook.send",target:t})})}catch(r){}}s.domReady(n)}function p(t){t=t||s.rules,this.rules=s.filter(t,function(e){return e.event==="inview"}),this.elements=[],this.eventHandler=s.bind(this.track,this),s.addEventHandler(e,"scroll",this.eventHandler),s.addEventHandler(e,"load",this.eventHandler)}function d(e){this.settings=e,this.varBindings={},this.events=[],this.products=[]}function v(){this.asyncScriptCallbackQueue=[],this.argsForBlockingScripts=[]}function m(e){this.settings=e}function g(e){this.settings=e,s.notify("Test & Target: Initializing",1),this.styleElements={},this.myInitialize()}var r=Object.prototype.toString,i=e._satellite&&e._satellite.override,s={$data:function(e,t,r){var i="__satellite__",o=s.dataCache,u=e[i];u||(u=e[i]=s.uuid++);var a=o[u];a||(a=o[u]={});if(r===n)return a[t];a[t]=r},uuid:1,dataCache:{},isArray:Array.isArray||function(e){return r.apply(e)==="[object Array]"},isObject:function(e){return e!=null&&!s.isArray(e)&&typeof e=="object"},isString:function(e){return typeof e=="string"},isRegex:function(e){return e instanceof RegExp},each:function(e,t,n){for(var r=0,i=e.length;r<i;r++)t.call(n,e[r],r,e)},map:function(e,t,n){var r=[];for(var i=0,s=e.length;i<s;i++)r.push(t.call(n,e[i],i,e));return r},filter:function(e,t,n){var r=[];for(var i=0,s=e.length;i<s;i++){var o=e[i];t.call(n,o,i,e)&&r.push(o)}return r},any:function(e,t,n){for(var r=0,i=e.length;r<i;r++){var s=e[r];if(t.call(n,s,r,e))return!0}return!1},every:function(e,t,n){var r=!0;for(var i=0,s=e.length;i<s;i++){var o=e[i];r=r&&t.call(n,o,i,e)}return r},contains:function(e,t){return s.indexOf(e,t)!==-1},indexOf:function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=e.length;n--;)if(t===e[n])return n;return-1},find:function(e,t,n){var r=[];for(var i=0,s=e.length;i<s;i++){var o=e[i];if(t.call(n,o,i,e))return o}return null},textMatch:function(e,t){return typeof t=="string"?e===t:t instanceof RegExp?t.test(e):!1},trim:function(e){return e==null?null:e.trim?e.trim():e.replace(/^ */,"").replace(/ *$/,"")},bind:function(e,t){return function(){return e.apply(t,arguments)}},throttle:function(e,t){var n=null;return function(){var r=this,i=arguments;clearTimeout(n),n=setTimeout(function(){e.apply(r,i)},t)}},domReady:function(e){function h(e){c=1;while(e=n.shift())e()}var n=[],r,i=!1,s=t,o=s.documentElement,u=o.doScroll,a="DOMContentLoaded",f="addEventListener",l="onreadystatechange",c=/^loade|^c/.test(s.readyState);return s[f]&&s[f](a,r=function(){s.removeEventListener(a,r,i),h()},i),u&&s.attachEvent(l,r=function(){/^c/.test(s.readyState)&&(s.detachEvent(l,r),h())}),e=u?function(t){self!=top?c?t():n.push(t):function(){try{o.doScroll("left")}catch(n){return setTimeout(function(){e(t)},50)}t()}()}:function(e){c?e():n.push(e)}}(),loadScript:function(e,n){var r=t.createElement("script");s.scriptOnLoad(e,r,n),r.src=e,t.getElementsByTagName("head")[0].appendChild(r)},scriptOnLoad:function(e,t,n){function r(e){e&&s.logError(e),n&&n(e)}"onload"in t?(t.onload=function(){r()},t.onerror=function(){r(new Error("Failed to load script "+e))}):"readyState"in t&&(t.onreadystatechange=function(){var e=t.readyState;if(e==="loaded"||e==="complete")t.onreadystatechange=null,r()})},pushAsyncScript:function(e){s.tools["default"].pushAsyncScript(e)},pushBlockingScript:function(e){s.tools["default"].pushBlockingScript(e)},addEventHandler:e.addEventListener?function(e,t,n){e.addEventListener(t,n,!1)}:function(e,t,n){e.attachEvent("on"+t,n)},preventDefault:e.addEventListener?function(e){e.preventDefault()}:function(e){e.returnValue=!1},stopPropagation:function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()},containsElement:function(e,t){return e.contains?e.contains(t):!!(e.compareDocumentPosition(t)&16)},matchesCss:function(n){function r(e,t){var n=t.tagName;return n?e.toLowerCase()===n.toLowerCase():!1}var i=n.matchesSelector||n.mozMatchesSelector||n.webkitMatchesSelector||n.oMatchesSelector||n.msMatchesSelector;return i?function(n,r){if(r===t||r===e)return!1;try{return i.call(r,n)}catch(s){return!1}}:n.querySelectorAll?function(e,t){var n=t.parentNode;if(!n)return!1;if(e.match(/^[a-z]+$/i))return r(e,t);try{var i=t.parentNode.querySelectorAll(e);for(var s=i.length;s--;)if(i[s]===t)return!0}catch(o){}return!1}:function(e,t){if(e.match(/^[a-z]+$/i))return r(e,t);try{return s.Sizzle.matches(e,[t]).length>0}catch(n){return!1}}}(t.documentElement),cssQuery:function(e){return e.querySelectorAll?function(t,n){var r;try{r=e.querySelectorAll(t)}catch(i){r=[]}n(r)}:function(e,t){if(s.Sizzle){var n;try{n=s.Sizzle(e)}catch(r){n=[]}t(n)}else s.sizzleQueue.push([e,t])}}(t),inherit:function(e,t){var n=new t;n.constructor=e,e.prototype=n},extend:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},toArray:function(){try{var e=Array.prototype.slice;return e.call(t.documentElement.childNodes,0)[0].nodeType,function(t){return e.call(t,0)}}catch(n){return function(e){var t=[];for(var n=0,r=e.length;n<r;n++)t.push(e[n]);return t}}}(),equalsIgnoreCase:function(e,t){return e==null?t==null:t==null?!1:String(e).toLowerCase()===String(t).toLowerCase()}};s.availableTools={},s.availableEventEmitters=[],s.fireOnceEvents=["condition","elementexists"],s.initEventEmitters=function(){s.eventEmitters=s.map(s.availableEventEmitters,function(e){return new e})},s.eventEmitterBackgroundTasks=function(){s.each(s.eventEmitters,function(e){"backgroundTasks"in e&&e.backgroundTasks()})},s.initTools=function(e){var t={"default":new v},n=s.settings.euCookieName||"sat_track";for(var r in e){var i,o,u;i=e[r];if(i.euCookie){var a=s.readCookie(n)!=="true";if(a)continue}o=s.availableTools[i.engine],u=new o(i),u.id=r,t[r]=u}return t},s.preprocessArguments=function(e,t,n,r){function i(e){var r={};for(var o in e)if(e.hasOwnProperty(o)){var u=e[o];s.isObject(u)?r[o]=i(u):r[o]=s.replace(e[o],t,n)}return r}if(!e)return e;var o=[];for(var u=0,a=e.length;u<a;u++){var f=e[u];typeof f=="string"?(f=s.replace(f,t,n),r&&(f=f.toLowerCase())):f&&f.constructor===Object&&(f=i(f)),o.push(f)}return o},s.execute=function(e,t,n,r){function i(i){var o=r[i||"default"];if(!o)return;try{o.triggerCommand(e,t,n)}catch(u){s.logError(u)}}if(_satellite.settings.hideActivity)return;r=r||s.tools;if(e.engine){var o=e.engine;for(var u in r){var a=r[u];a.settings&&a.settings.engine===o&&i(u)}}else e.tool instanceof Array?s.each(e.tool,function(e){i(e)}):i(e.tool)},s.notify=e.console?function(e,t){if(s.settings.notifications)switch(t){case 1:case 2:case 3:console.log("SATELLITE: "+e);break;case 4:console.warn("SATELLITE: "+e);break;case 5:console.error("SATELLITE: "+e);break;default:console.log("SATELLITE: Notify called with incorrect priority.")}}:function(){},s.cleanText=function(e){return e==null?null:s.trim(e).replace(/\s{2,}/g," ").replace(/[^\000-\177]*/g,"")},s.text=function(e){return e.textContent||e.innerText},s.specialProperties={text:s.text,cleanText:function(e){return s.cleanText(s.text(e))}},s.getObjectProperty=function(e,t,r){var i=t.split("."),o=e,u=s.specialProperties;for(var a=0,f=i.length;a<f;a++){if(o==null)return n;var l=i[a];if(r&&l.charAt(0)==="@"){var c=l.slice(1);o=u[c](o);continue}o=o[l]}return o},s.setVar=function(){var e=s.data.customVars;e==null&&(s.data.customVars={},e=s.data.customVars);if(typeof arguments[0]=="string"){var t=arguments[0];e[t]=arguments[1]}else if(arguments[0]){var n=arguments[0];for(var r in n)e[r]=n[r]}},s.dataElementSafe=function(e,t){if(arguments.length>2){var n=arguments[2];t==="pageview"?s.dataElementSafe.pageviewCache[e]=n:t==="session"?s.setCookie("_sdsat_"+e,n):t==="visitor"&&s.setCookie("_sdsat_"+e,n,730)}else{if(t==="pageview")return s.dataElementSafe.pageviewCache[e];if(t==="session"||t==="visitor")return s.readCookie("_sdsat_"+e)}},s.dataElementSafe.pageviewCache={},s.realGetDataElement=function(t){var n;return t.selector?s.hasSelector&&s.cssQuery(t.selector,function(e){if(e.length>0){var r=e[0];t.property==="text"?n=r.innerText||r.textContent:n=r[t.property]}}):t.queryParam?n=s.getQueryParam(t.queryParam):t.cookie?n=s.readCookie(t.cookie):t.jsVariable?n=s.getObjectProperty(e,t.jsVariable):t.customJS&&(n=t.customJS()),n},s.getDataElement=function(e,t,r){r=r||s.dataElements[e];var i=s.realGetDataElement(r);return i===n&&r.storeLength?i=s.dataElementSafe(e,r.storeLength):i!==n&&r.storeLength&&s.dataElementSafe(e,r.storeLength,i),i===n&&!t&&(i=r["default"]||""),i},s.getVar=function(r,i,o){var u=s.data.customVars,a=o?o.target||o.srcElement:null,f,l,c={URI:s.data.URI,uri:s.data.URI,protocol:t.location.protocol,hostname:t.location.hostname};if(s.dataElements&&r in s.dataElements)return s.getDataElement(r);l=c[r];if(l===n){if(r.substring(0,5)==="this.")return r=r.slice(5),s.getObjectProperty(i,r,!0);if(r.substring(0,6)==="event.")return r=r.slice(6),s.getObjectProperty(o,r);if(r.substring(0,7)==="target.")return r=r.slice(7),s.getObjectProperty(a,r);if(r.substring(0,7)==="window.")return r=r.slice(7),s.getObjectProperty(e,r);if(r.substring(0,6)==="param.")return r=r.slice(6),s.getQueryParam(r);if(f=r.match(/^rand([0-9]+)$/)){var h=Number(f[1]),p=(Math.random()*(Math.pow(10,h)-1)).toFixed(0);return Array(h-p.length+1).join("0")+p}l=s.getObjectProperty(u,r)}return l},s.getVars=function(e,t,n){var r={};return s.each(e,function(e){r[e]=s.getVar(e,t,n)}),r},s.replace=function(e,t,n){return typeof e!="string"?e:e.replace(/%(.*?)%/g,function(e,r){var i=s.getVar(r,t,n);return i==null?e:i})},s.searchVariables=function(e,t,n){if(!e||e.length===0)return"";var r=[];for(var i=0,o=e.length;i<o;i++){var u=e[i],a=s.getVar(u,t,n);r.push(u+"="+escape(a))}return"?"+r.join("&")},s.fireRule=function(e,t,n){var r=e.trigger;if(!r)return;for(var i=0,o=r.length;i<o;i++){var u=r[i];s.execute(u,t,n)}s.contains(s.fireOnceEvents,e.event)&&(e.expired=!0)},s.isLinked=function(e){for(var t=e;t;t=t.parentNode)if(t.nodeName.toLowerCase()=="a")return!0;return!1},s.firePageLoadEvent=function(e){var n=t.location,r={type:e,target:n},i=s.pageLoadRules;for(var o=i.length;o--;){var u=i[o];s.ruleMatches(u,r,n)&&(s.notify('Rule "'+u.name+'" fired.',1),s.fireRule(u,n,r),i.splice(o,1))}for(var a in s.tools){var f=s.tools[a];f.endPLPhase(e)}},s.track=function(e){e=e.replace(/^\s*/,"").replace(/\s*$/,"");for(var t=0;t<s.directCallRules.length;t++){var n=s.directCallRules[t];if(n.name===e){s.notify('Direct call Rule "'+e+'" fired.',1),s.fireRule(n,location,{type:e});return}}s.notify('Direct call Rule "'+e+'" not found.',1)},s.basePath=function(){return s.data.host?(t.location.protocol==="https:"?"https://"+s.data.host.https:"http://"+s.data.host.http)+"/":this.settings.basePath},s.setLocation=function(t){e.location=t},s.parseQueryParams=function(e){if(e==="")return{};var t={},n=e.substring(1).split("&");return s.each(n,function(e){e=e.split("="),t[e[0]]=e[1]}),t};var o=s.parseQueryParams(e.location.search);s.getQueryParam=function(e){return o[e]},s.readCookie=function(e){var r=e+"=",i=t.cookie.split(";");for(var s=0;s<i.length;s++){var o=i[s];while(o.charAt(0)==" ")o=o.substring(1,o.length);if(o.indexOf(r)===0)return o.substring(r.length,o.length)}return n},s.setCookie=function(e,n,r){var i;if(r){var s=new Date;s.setTime(s.getTime()+r*24*60*60*1e3),i="; expires="+s.toGMTString()}else i="";t.cookie=e+"="+n+i+"; path=/"},s.removeCookie=function(e){s.setCookie(e,"",-1)},s.getElementProperty=function(e,t){if(t.charAt(0)==="@"){var r=s.specialProperties[t.substring(1)];if(r)return r(e)}return t==="innerText"?s.text(e):t in e?e[t]:e.getAttribute?e.getAttribute(t):n},s.propertiesMatch=function(e,t){if(e)for(var n in e){var r=e[n],i=s.getElementProperty(t,n);if(typeof r=="string"&&r!==i)return!1;if(r instanceof RegExp&&!r.test(i))return!1}return!0},s.ruleMatches=function(e,n,r,i){var o=t.location,u=e.condition,a=e.conditions,f=e.property,l=n.type,c=e.value,h=n.target||n.srcElement,p=r===h;if(e.event!==l)return!1;if(e.isDefault&&i>0)return!1;if(e.expired)return!1;if(l==="inview"&&n.inviewDelay!==e.inviewDelay)return!1;if(!p&&(e.bubbleFireIfParent===!1||i!==0&&e.bubbleFireIfChildFired===!1))return!1;if(e.selector&&!s.matchesCss(e.selector,r))return!1;if(!s.propertiesMatch(f,r))return!1;if(c!=null)if(typeof c=="string"){if(c!==r.value)return!1}else if(!c.test(r.value))return!1;if(u)try{if(!u.call(r,n,h))return s.notify('Condition for rule "'+e.name+'" not met.',1),!1}catch(d){return s.notify('Condition for rule "'+e.name+'" not met. Error: '+d.message,1),!1}if(a){var v=s.find(a,function(t){try{return!t.call(r,n,h)}catch(i){return s.notify('Condition for rule "'+e.name+'" not met. Error: '+i.message,1),!0}});if(v)return s.notify("Condition "+v.toString()+' for rule "'+e.name+'" not met.',1),!1}return!0},s.evtHandlers={},s.whenEvent=function(e,t){var n=s.evtHandlers;n[e]||(n[e]=[]),n[e].push(t)},s.handleEvent=function(e){if(s.$data(e,"eventProcessed"))return;var t=e.type.toLowerCase(),n=e.target||e.srcElement,r=0,i=s.rules,o=s.tools,u=s.evtHandlers[e.type];u&&s.each(u,function(t){t(e)}),n&&n.nodeName?s.notify("detected "+t+" on "+n.nodeName,1):s.notify("detected "+t,1);for(var a=n;a;a=a.parentNode){var f=!1;s.each(i,function(t){s.ruleMatches(t,e,a,r)&&(s.notify('Rule "'+t.name+'" fired.',1),s.fireRule(t,a,e),r++,t.bubbleStop&&(f=!0))});if(f)break}s.$data(e,"eventProcessed",!0)},s.onEvent=t.querySelectorAll?function(e){s.handleEvent(e)}:function(){var e=[],t=function(t){t.selector?e.push(t):s.handleEvent(t)};return t.pendingEvents=e,t}(),s.registerEvents=function(e,t){for(var n=t.length-1;n>=0;n--){var r=t[n];s.$data(e,r+".tracked")||(s.addEventHandler(e,r,s.onEvent),s.$data(e,r+".tracked",!0))}},s.registerEventsForTags=function(e,n){for(var r=e.length-1;r>=0;r--){var i=e[r],o=t.getElementsByTagName(i);for(var u=o.length-1;u>=0;u--)s.registerEvents(o[u],n)}},s.setListeners=function(){s.registerEvents(t,["click","submit"])},s.setFormListeners=function(){s.registerEventsForTags(["input","select","textarea","button"],["select","change","focus","blur","keypress"])},s.setVideoListeners=function(){s.registerEventsForTags(["video"],["play","pause","ended","volumechange","stalled","timeupdate","loadeddata"])},s.readStoredSetting=function(t){return e.localStorage?(t="sdsat_"+t,e.localStorage.getItem(t)):null},s.loadStoredSettings=function(){var e=s.readStoredSetting("debug"),t=s.readStoredSetting("hide_activity");e&&(s.settings.notifications=e==="true"),t&&(s.settings.hideActivity=t==="true")},s.isRuleActive=function(e,t){function d(e,t){return t=m(t,{hour:e[f](),minute:e[l]()}),Math.floor(Math.abs((e.getTime()-t.getTime())/864e5))}function v(e,t){function n(e){return e[u]()*12+e[a]()}return Math.abs(n(e)-n(t))}function m(e,t){var n=new Date(e.getTime());for(var r in t){var i=t[r];switch(r){case"hour":n[c](i);break;case"minute":n[h](i);break;case"date":n[p](i)}}return n}function g(e,t){var n=e[f](),r=e[l](),i=t[f](),s=t[l]();return n*60+r>i*60+s}function y(e,t){var n=e[f](),r=e[l](),i=t[f](),s=t[l]();return n*60+r<i*60+s}var n=e.schedule;if(!n)return!0;var r=n.utc,i=r?"getUTCDate":"getDate",o=r?"getUTCDay":"getDay",u=r?"getUTCFullYear":"getFullYear",a=r?"getUTCMonth":"getMonth",f=r?"getUTCHours":"getHours",l=r?"getUTCMinutes":"getMinutes",c=r?"setUTCHours":"setHours",h=r?"setUTCMinutes":"setMinutes",p=r?"setUTCDate":"setDate";t=t||new Date;if(n.repeat){if(g(n.start,t))return!1;if(y(n.end,t))return!1;if(t<n.start)return!1;if(n.endRepeat&&t>=n.endRepeat)return!1;if(n.repeat==="daily"){if(n.repeatEvery){var b=d(n.start,t);if(b%n.repeatEvery!==0)return!1}}else if(n.repeat==="weekly"){if(n.days){if(!s.contains(n.days,t[o]()))return!1}else if(n.start[o]()!==t[o]())return!1;if(n.repeatEvery){var w=d(n.start,t);if(w%(7*n.repeatEvery)!==0)return!1}}else if(n.repeat==="monthly"){if(n.repeatEvery){var E=v(n.start,t);if(E%n.repeatEvery!==0)return!1}if(n.nthWeek&&n.mthDay){if(n.mthDay!==t[o]())return!1;var S=Math.floor((t[i]()-t[o]()+1)/7);if(n.nthWeek!==S)return!1}else if(n.start[i]()!==t[i]())return!1}else if(n.repeat==="yearly"){if(n.start[a]()!==t[a]())return!1;if(n.start[i]()!==t[i]())return!1;if(n.repeatEvery){var w=Math.abs(n.start[u]()-t[u]());if(w%n.repeatEvery!==0)return!1}}}else{if(n.start>t)return!1;if(n.end<t)return!1}return!0},s.isOutboundLink=function(e){if(!e.getAttribute("href"))return!1;var t=e.hostname,n=e.href,r=e.protocol;if(r!=="http:"&&r!=="https:")return!1;var i=s.settings.spansSubdomains;if(i&&s.isSubdomainOf(t,location.hostname))return!1;var o=s.any(s.settings.domainList,function(e){return s.isSubdomainOf(t,e)});return o?!1:t!==location.hostname},s.isLinkerLink=function(e){return s.hasMultipleDomains()&&e.hostname!=location.hostname&&!e.href.match(/^javascript/i)&&!s.isOutboundLink(e)},s.isSubdomainOf=function(e,t){if(e===t)return!0;var n=e.length-t.length;return n>0?s.equalsIgnoreCase(e.substring(n),t):!1},s.filterRules=function(){function t(t){return s.ruleInScope(t,e)?s.isRuleActive(t)?!0:!1:!1}var e={hostname:location.hostname,protocol:location.protocol,URI:s.data.URI};s.rules=s.filter(s.rules,t),s.pageLoadRules=s.filter(s.pageLoadRules,t)},s.ruleInScope=function(e,t){function a(e,t){function i(e){return t.match(e)}var n=e.include,r=e.exclude;if(n&&f(n,t))return!0;if(r){if(s.isString(r)&&r===t)return!0;if(s.isArray(r)&&s.any(r,i))return!0;if(s.isRegex(r)&&i(r))return!0}return!1}function f(e,t){function n(e){return t.match(e)}return s.isString(e)&&e!==t?!0:s.isArray(e)&&!s.any(e,n)?!0:s.isRegex(e)&&!n(e)?!0:!1}var n=e.scope;if(!n)return!0;var r=n.URI,i=n.subdomains,o=n.domains,u=n.protocols;return r&&a(r,t.URI)?!1:i&&a(i,t.hostname)?!1:o&&f(o,t.hostname)?!1:u&&f(u,t.protocol)?!1:!0},s.backgroundTasks=function(){var e=+(new Date);s.setFormListeners(),s.setVideoListeners(),s.loadStoredSettings(),s.registerNewElementsForDynamicRules(),s.eventEmitterBackgroundTasks();var t=+(new Date)},s.registerNewElementsForDynamicRules=function(){function e(t,n){var r=e.cache[t];if(r)return n(r);s.cssQuery(t,function(r){e.cache[t]=r,n(r)})}e.cache={},s.each(s.dynamicRules,function(t){e(t.selector,function(e){s.each(e,function(e){if(s.$data(e,"dynamicRules.seen"))return;s.$data(e,"dynamicRules.seen",!0),s.propertiesMatch(t.property,e)&&s.registerEvents(e,[t.event])})})})},s.ensureCSSSelector=function(){if(t.querySelectorAll){s.hasSelector=!0;return}s.loadingSizzle=!0,s.sizzleQueue=[],s.loadScript(s.basePath()+"selector.js",function(){if(!s.Sizzle){s.logError(new Error("Failed to load selector.js"));return}var e=s.onEvent.pendingEvents;s.each(e,function(e){s.handleEvent(e)},this),s.onEvent=s.handleEvent,s.hasSelector=!0,delete s.loadingSizzle,s.each(s.sizzleQueue,function(e){s.cssQuery(e[0],e[1])}),delete s.sizzleQueue})},s.errors=[],s.logError=function(e){s.errors.push(e),s.notify(e.name+" - "+e.message,5)},s.pageBottom=function(){s.pageBottomFired=!0,s.firePageLoadEvent("pagebottom")},s.stagingLibraryOverride=function(){var e=s.readStoredSetting("stagingLibrary")==="true";if(e){var n=t.getElementsByTagName("script"),r=/^(.*)satelliteLib-(.*)\.js$/,i=/^(.*)satelliteLib-(.*)-staging\.js$/,o,u,a;for(var f=0,l=n.length;f<l;f++){a=n[f].getAttribute("src");if(!a)continue;o||(o=a.match(r)),u||(u=a.match(i));if(u)break}if(o&&!u){var c=o[1]+"satelliteLib-"+o[2]+"-staging.js";return t.write('<script src="'+c+'"></script>'),!0}}return!1},s.checkAsyncInclude=function(){e.satellite_asyncLoad&&s.notify('You may be using the async installation of Satellite. In-page HTML and the "pagebottom" event will not work. Please update your Satellite installation for these features.',5)},s.hasMultipleDomains=function(){return s.settings.domainList.length>1},s.handleOverrides=function(){if(i)for(var e in i)i.hasOwnProperty(e)&&(s.data[e]=i[e])},s.init=function(t){function u(){s.backgroundTasks(),setTimeout(u,s.settings.recheckEvery||3e3)}if(s.stagingLibraryOverride())return;var r=t.tools;delete t.tools;for(var i in t)s[i]=t[i];s.data.customVars===n&&(s.data.customVars={}),s.data.queryParams=o,s.handleOverrides(),s.detectBrowserInfo(),s.trackVisitorInfo&&s.trackVisitorInfo(),s.loadStoredSettings(),s.checkAsyncInclude(),s.ensureCSSSelector(),s.filterRules(),s.dynamicRules=s.filter(s.rules,function(e){return e.eventHandlerOnElement}),s.tools=s.initTools(r),s.initEventEmitters(),s.settings.forceLowerCase&&(s.data.URI=s.data.URI.toLowerCase()),s.hasSelector&&s.domReady(s.eventEmitterBackgroundTasks),s.setListeners(),s.domReady(u),s.firePageLoadEvent("pagetop"),s.domReady(function(){s.domReadyFired=!0,s.pageBottomFired||s.pageBottom(),s.firePageLoadEvent("domready")}),s.addEventHandler(e,"load",function(){s.firePageLoadEvent("windowload")})},s.pageLoadPhases=["pagetop","pagebottom","domready","windowload"],s.loadEventBefore=function(e,t){return s.indexOf(s.pageLoadPhases,e)<=s.indexOf(s.pageLoadPhases,t)},s.flushPendingCalls=function(e){e.pending&&(s.each(e.pending,function(t){var n=t[0],r=t[1],i=t[2],o=t[3];n in e?e[n].apply(e,[r,i].concat(o)):e.emit?e.emit(n,r,i,o):s.notify("Failed to trigger "+n+" for tool "+e.id,1)}),delete e.pending)},s.setDebug=function(t){if(!e.localStorage)return;e.localStorage.setItem("sdsat_debug",t)},s.detectBrowserInfo=function(){function e(e){return function(t){for(var n in e){var r=e[n],i=r.test(t);if(i)return n}return"Unknown"}}var t=e({OmniWeb:/OmniWeb/,"Opera Mini":/Opera Mini/,"Opera Mobile":/Opera Mobi/,Opera:/Opera/,"Mobile Safari":/Mobile(\/[0-9A-z]+)? Safari/,Chrome:/Chrome/,Firefox:/Firefox/,"IE Mobile":/IEMobile/,IE:/MSIE/,Safari:/Safari/}),n=e({iOS:/iPhone|iPad|iPod/,Blackberry:/BlackBerry/,"Symbian OS":/SymbOS/,Maemo:/Maemo/,Android:/Android [0-9\.]+;/,Linux:/ Linux /,Unix:/FreeBSD|OpenBSD|CrOS/,Windows:/ Windows /,MacOS:/Macintosh;/}),r=e({iPhone:/iPhone/,iPad:/iPad/,iPod:/iPod/,Nokia:/SymbOS|Maemo/,"Windows Phone":/IEMobile/,Blackberry:/BlackBerry/,Android:/Android [0-9\.]+;/,Desktop:/.*/}),i=navigator.userAgent;s.browserInfo={browser:t(i),os:n(i),deviceType:r(i)}},s.isHttps=function(){return"https:"==t.location.protocol},s.BaseTool=function(e){this.settings=e?e:{}},s.BaseTool.prototype={triggerCommand:function(e,t,n){var r=this.settings||{},i=s.settings.forceLowerCase;if(this.initialize&&this.isQueueAvailable()&&this.isQueueable(e)&&n&&s.loadEventBefore(n.type,r.loadOn)){this.queueCommand(e,t,n);return}"forceLowerCase"in r&&(i=r.forceLowerCase);var o=s.preprocessArguments(e.arguments,t,n,i),u=e.command,a=this["$"+u];a?a.apply(this,[t,n].concat(o)):this.$missing$?this.$missing$(u,t,n,o):s.notify("Failed to trigger "+u+" for tool "+this.id,1)},endPLPhase:function(e){},isQueueable:function(e){return e.command!=="cancelToolInit"},isQueueAvailable:function(){return!this.initialized&&!this.initializing},flushQueue:function(){this.pending&&(s.each(this.pending,function(e){this.triggerCommand.apply(this,e)},this),this.pending=[])},queueCommand:function(e,t,n){this.pending||(this.pending=[]),this.pending.push([e,t,n])},$cancelToolInit:function(){this._cancelToolInit=!0}},e._satellite=s,u.orientationChange=function(t){var n=e.orientation===0?"portrait":"landscape";t.orientation=n,s.onEvent(t)},s.availableEventEmitters.push(u),a.prototype.backgroundTasks=function(){s.each(this.rules,function(e){s.cssQuery(e.selector,function(e){if(e.length>0){var t=e[0];if(s.$data(t,"elementexists.seen"))return;s.$data(t,"elementexists.seen",!0),s.onEvent({type:"elementexists",target:t})}})})},s.availableEventEmitters.push(a),f.prototype={backgroundTasks:function(){var e=this.eventHandler;s.each(this.rules,function(t){s.cssQuery(t.selector||"video",function(t){s.each(t,function(t){if(s.$data(t,"videoplayed.tracked"))return;s.addEventHandler(t,"timeupdate",s.throttle(e,100)),s.$data(t,"videoplayed.tracked",!0)})})})},evalRule:function(e,t){var n=t.event,r=e.seekable,i=r.start(0),o=r.end(0),u=e.currentTime,a=t.event.match(/^videoplayed\(([0-9]+)([s%])\)$/);if(!a)return;var f=a[2],l=Number(a[1]),c=f==="%"?function(){return l<=100*(u-i)/(o-i)}:function(){return l<=u-i};!s.$data(e,n)&&c()&&(s.$data(e,n,!0),s.onEvent({type:n,target:e}))},onUpdateTime:function(e){var t=this.rules,n=e.target;if(!n.seekable||n.seekable.length===0)return;for(var r=0,i=t.length;r<i;r++)this.evalRule(n,t[r])}},s.availableEventEmitters.push(f),l.prototype={backgroundTasks:function(){var e=this;s.each(this.rules,function(t){var n=t[1],r=t[0];s.cssQuery(n,function(t){s.each(t,function(t){e.trackElement(t,r)})})},this)},trackElement:function(e,t){var n=this,r=s.$data(e,"hover.delays");r?s.contains(r,t)||r.push(t):(s.addEventHandler(e,"mouseover",function(t){n.onMouseOver(t,e)}),s.addEventHandler(e,"mouseout",function(t){n.onMouseOut(t,e)}),s.$data(e,"hover.delays",[t]))},onMouseOver:function(e,t){var n=e.target||e.srcElement,r=e.relatedTarget||e.fromElement,i=(t===n||s.containsElement(t,n))&&!s.containsElement(t,r);i&&this.onMouseEnter(t)},onMouseEnter:function(e){var t=s.$data(e,"hover.delays"),n=s.map(t,function(t){return setTimeout(function(){s.onEvent({type:"hover("+t+")",target:e})},t)});s.$data(e,"hover.delayTimers",n)},onMouseOut:function(e,t){var n=e.target||e.srcElement,r=e.relatedTarget||e.toElement,i=(t===n||s.containsElement(t,n))&&!s.containsElement(t,r);i&&this.onMouseLeave(t)},onMouseLeave:function(e){var t=s.$data(e,"hover.delayTimers");t&&s.each(t,function(e){clearTimeout(e)})}},s.availableEventEmitters.push(l),s.availableEventEmitters.push(c),s.availableEventEmitters.push(h),p.offset=function(n){var r;try{r=n.getBoundingClientRect()}catch(i){}var s=t,o=s.documentElement,u=s.body,a=e,f=o.clientTop||u.clientTop||0,l=o.clientLeft||u.clientLeft||0,c=a.pageYOffset||o.scrollTop||u.scrollTop,h=a.pageXOffset||o.scrollLeft||u.scrollLeft,p=r.top+c-f,d=r.left+h-l;return{top:p,left:d}},p.getViewportHeight=function(){var n=e.innerHeight,r=t.compatMode;return r&&(n=r=="CSS1Compat"?t.documentElement.clientHeight:t.body.clientHeight),n},p.getScrollTop=function(){return t.documentElement.scrollTop?t.documentElement.scrollTop:t.body.scrollTop},p.prototype={backgroundTasks:function(){var e=this.elements,t=this;s.each(this.rules,function(t){s.cssQuery(t.selector,function(n){var r=0;s.each(n,function(t){s.contains(e,t)||(e.push(t),r++)}),r&&s.notify(t.selector+" added "+r+" elements.",1)})}),this.track()},elementIsInView:function(e){var t=p.getViewportHeight(),n=p.getScrollTop(),r=p.offset(e).top,i=e.offsetHeight;return!(n>r+i||n+t<r)},checkInView:function(e,t){var n=s.$data(e,"inview");if(this.elementIsInView(e)){n||s.$data(e,"inview",!0);var r=this;this.processRules(e,function(n,i,o){if(t||!n.inviewDelay)s.$data(e,i,!0),s.onEvent({type:"inview",target:e,inviewDelay:n.inviewDelay});else if(n.inviewDelay){var u=s.$data(e,o);u&&clearTimeout(u),u=setTimeout(function(){r.checkInView(e,!0)},n.inviewDelay),s.$data(e,o,u)}})}else n&&s.$data(e,"inview",!1),this.processRules(e,function(t,n,r){var i=s.$data(e,r);i&&clearTimeout(i)})},track:function(){s.each(this.elements,function(e){this.checkInView(e)},this)},processRules:function(e,t){s.each(this.rules,function(n,r){var i=n.inviewDelay?"viewed_"+n.inviewDelay:"viewed",o="inview_timeout_id_"+r;if(s.$data(e,i))return;s.matchesCss(n.selector,e)&&t(n,i,o)})}},s.availableEventEmitters.push(p),s.inherit(d,s.BaseTool),s.extend(d.prototype,{name:"SC",initialize:function(t){if(this._cancelToolInit)return;if(this.settings.initTool!==!1){var n=this.settings.sCodeURL||s.basePath()+"s_code.js";typeof n=="object"&&(e.location.protocol==="https:"?n=n.https:n=n.http),n.match(/^https?:/)||(n=s.basePath()+n);if(this.settings.initVars){var r=this.substituteVariables(this.settings.initVars,{type:t});this.$setVars(null,null,r)}s.loadScript(n,s.bind(this.onSCodeLoaded,this)),this.initializing=!0}else this.initializing=!0},onSCodeLoaded:function(){this.initialized=!0,this.initializing=!1,s.notify("SiteCatalyst: loaded.",1),this.settings.customInit&&this.settings.customInit(this.getS()),this.flushQueueExceptTrackLink(),this.sendBeacon(),this.flushQueue()},flushQueueExceptTrackLink:function(){if(!this.pending)return;var e=[];for(var t=0;t<this.pending.length;t++){var n=this.pending[t],r=n[0];r.command==="trackLink"?e.push(n):this.triggerCommand.apply(this,n)}this.pending=e},isQueueAvailable:function(){return!this.initialized},backgroundTasks:function(){this.initializing&&typeof e.s_gi=="function"&&(this.flushQueue(),this.initialized=!0,this.initializing=!1)},substituteVariables:function(e,t){var n="forceLowerCase"in this.settings?this.settings.forceLowerCase:s.settings.forceLowerCase,r={};for(var i in e){var o=e[i];r[i]=s.replace(o,location,t)}return r},endPLPhase:function(e){var t=this.settings.loadOn;e===t&&this.initialize(e)},$setVars:function(e,t,n){for(var r in n){var i=n[r];typeof i=="function"&&(i=i()),this.varBindings[r]=i}s.notify("SiteCatalyst: set variables.",2)},$customSetup:function(e,t,n){this.customSetupFunc=function(r){n.call(e,t,r)}},getAccount:function(t){return e.s_account?e.s_account:t&&this.settings.accountByHost?this.settings.accountByHost[t]||this.settings.account:this.settings.account},getS:function(t,n){var r=n&&n.hostname||e.location.hostname,i=n&&n.setVars||this.varBindings,s=n&&n.addEvent||this.events,o=this.getAccount(r),u=e.s_gi;if(!u)return null;var t=t||u(o);for(var a in i)t[a]=i[a];return s.length>0&&(t.events=s.join(",")),this.customSetupFunc&&this.customSetupFunc.call(e,t),t},clearVarBindings:function(){this.varBindings={}},sendBeacon:function(){var t=this.getS(e[this.settings.renameS||"s"]);if(!t){s.notify("SiteCatalyst: page code not loaded",1);return}t.linkTrackVars="",t.linkTrackEvents="",t.t(),this.clearVarBindings(),s.notify("SiteCatalyst: tracked page view",1)},$trackLink:function(e,t,n){var r=n&&n.type,i=n&&n.linkName||(e&&e.nodeName.toLowerCase()==="a"?e.innerHTML:"")||"link clicked",o=n&&n.setVars,u=n&&n.addEvent,a=this.getS(null,{setVars:o,addEvent:u});if(!a){s.notify("SiteCatalyst: page code not loaded",1);return}var f=this.definedVarNames(o);(u||[]).length>0&&f.push("events"),a.products&&f.push("products"),a.linkTrackVars=f.join(","),a.linkTrackEvents=(u||[]).join(","),n&&n.customSetup&&n.customSetup.call(e,t,a),a.tl(!0,r||"o",i),s.notify("SiteCatalyst: tracked link",1)},definedVarNames:function(e){e=e||this.varBindings;var t=[];for(var n in e)/^(eVar[0-9]+)|(prop[0-9]+)$/.test(n)&&t.push(n);return t},$trackPageView:function(){var e=this.getS();if(!e){s.notify("SiteCatalyst: page code not loaded",1);return}e.linkTrackVars="",e.linkTrackEvents="",e.t(),this.clearVarBindings(),s.notify("SiteCatalyst: tracked page view",1)},$postTransaction:function(t,n,r){var i=s.data.transaction=e[r],o=this.varBindings,u=this.settings.fieldVarMapping;s.each(i.items,function(e){this.products.push(e)},this),o.products=s.map(this.products,function(e){var t=[];if(u&&u.item)for(var n in u.item){var r=u.item[n];t.push(r+"="+e[n]),r.substring(0,5)==="event"&&this.events.push(r)}var i=["",e.product,e.quantity,e.unitPrice*e.quantity];return t.length>0&&i.push(t.join("|")),i.join(";")},this).join(",");if(u&&u.transaction){var a=[];for(var f in u.transaction){var r=u.transaction[f];a.push(r+"="+i[f]),r.substring(0,5)==="event"&&this.events.push(r)}o.products.length>0&&(o.products+=","),o.products+=";;;;"+a.join("|")}},$addEvent:function(e,t){for(var n=2,r=arguments.length;n<r;n++)this.events.push(arguments[n])},$addProduct:function(e,t){for(var n=2,r=arguments.length;n<r;n++)this.products.push(arguments[n])}}),s.availableTools.sc=d,s.inherit(v,s.BaseTool),s.extend(v.prototype,{name:"Default",$loadIframe:function(t,n,r){var i=r.pages,o=r.loadOn,u=s.bind(function(){s.each(i,function(e){this.loadIframe(t,n,e)},this)},this);o||u(),o==="domready"&&s.domReady(u),o==="load"&&s.addEventHandler(e,"load",u)},loadIframe:function(e,n,r
){var i=t.createElement("iframe");i.style.display="none";var o=s.data.host,u=r.data,a=this.scriptURL(r.src),f=s.searchVariables(u,e,n);o&&(a=s.basePath()+a),a+=f,i.src=a;var l=t.getElementsByTagName("body")[0];l?l.appendChild(i):s.domReady(function(){t.getElementsByTagName("body")[0].appendChild(i)})},scriptURL:function(e){var t=s.settings.scriptDir||"";return t+e},$loadScript:function(t,n,r){var i=r.scripts,o=r.sequential,u=r.loadOn,a=s.bind(function(){o?this.loadScripts(t,n,i):s.each(i,function(e){this.loadScripts(t,n,[e])},this)},this);u?u==="domready"?s.domReady(a):u==="load"&&s.addEventHandler(e,"load",a):a()},loadScripts:function(e,t,n){function f(){if(r.length>0&&i){var a=r.shift();a.call(e,t,o)}var l=n.shift();if(l){var c=s.data.host,h=u.scriptURL(l.src);c&&(h=s.basePath()+h),s.loadScript(h,f),i=l}}try{var n=n.slice(0),r=this.asyncScriptCallbackQueue,i,o=t.target||t.srcElement,u=this}catch(a){console.error("scripts is",JSON.stringify(n))}f()},$loadBlockingScript:function(e,t,n){var r=n.scripts,i=n.loadOn,o=s.bind(function(){s.each(r,function(n){this.loadBlockingScript(e,t,n)},this)},this);o()},loadBlockingScript:function(e,n,r){var i=this.scriptURL(r.src),o=s.data.host,u=n.target||n.srcElement;o&&(i=s.basePath()+i);var a='<script src="'+i+'"></script>';this.argsForBlockingScripts.push([e,n,u]),t.write(a)},pushAsyncScript:function(e){this.asyncScriptCallbackQueue.push(e)},pushBlockingScript:function(e){var t=this.argsForBlockingScripts.shift(),n=t[0];e.apply(n,t.slice(1))},$writeHTML:function(e,n){if(s.domReadyFired){s.notify("Command writeHTML failed. You may be using an async installation of Satellite.",1);return}if(n.type!=="pagebottom"&&n.type!=="pagetop"){s.notify("You can only use writeHTML on the `pagetop` and `pagebottom` events.",1);return}for(var r=2,i=arguments.length;r<i;r++){var o=arguments[r].html;o=s.replace(o,e,n),t.write(o)}},linkNeedsDelayActivate:function(t,n){n=n||e;var r=t.tagName,i=t.getAttribute("target");return r&&r.toLowerCase()!=="a"?!1:i?i==="_blank"?!1:i==="_top"?n.top===n:i==="_parent"?!1:i==="_self"?!0:n.name?i===n.name:!0:!0},$delayActivateLink:function(e,t){if(!this.linkNeedsDelayActivate(e))return;s.preventDefault(t);var n=s.settings.linkDelay||100;setTimeout(function(){s.setLocation(e.href)},n)},isQueueable:function(e){return e.command!=="writeHTML"}}),s.availableTools["default"]=v,s.inherit(m,s.BaseTool),s.extend(m.prototype,{name:"GA",initialize:function(){var t=this.settings,n=e._gaq,r=t.initCommands||[],i=t.customInit;n||(_gaq=[]),this.forceLowerCase=s.settings.forceLowerCase,"forceLowerCase"in t&&(this.forceLowerCase=t.forceLowerCase);if(!this.isSuppressed()){if(!n&&!m.scriptLoaded){var o=s.isHttps(),u=(o?"https://ssl":"http://www")+".google-analytics.com/ga.js";t.url&&(u=o?t.url.https:t.url.http),s.loadScript(u),m.scriptLoaded=!0,s.notify("GA: page code loaded.",1)}var a=t.domain,f=t.trackerName,l=this.allowLinker(),c=t.account,h=s.settings.domainList;_gaq.push([this.cmd("setAccount"),c]),l&&_gaq.push([this.cmd("setAllowLinker"),l]);var p=s.find(h,function(t){var n=e.location.hostname;return s.equalsIgnoreCase(n.slice(n.length-t.length),t)});_gaq.push([this.cmd("setDomainName"),p?"."+p:"auto"]),s.each(r,function(e){var t=[this.cmd(e[0])].concat(e.slice(1));_gaq.push(t)},this),i&&(this.suppressInitialPageView=!1===i(_gaq,f)),t.pageName&&this.$overrideInitialPageView(null,null,t.pageName)}else s.notify("GA: page code not loaded(suppressed).",1);this.initialized=!0},isSuppressed:function(){return this._cancelToolInit||this.settings.initTool===!1},allowLinker:function(){var e=s.settings.domainList;return e&&e.length>1||!!s.settings.outboundLinkExcludes},tracker:function(){return this.settings.trackerName},cmd:function(e){var t=this.tracker();return t?t+"._"+e:"_"+e},$overrideInitialPageView:function(e,t,n){this.urlOverride=n},trackInitialPageView:function(){if(this.isSuppressed())return;if(this.suppressInitialPageView)return;if(this.urlOverride){var e=s.preprocessArguments([this.urlOverride],location,null,this.forceLowerCase);this.$missing$("trackPageview",null,null,e)}else this.$missing$("trackPageview")},endPLPhase:function(e){var t=this.settings.loadOn;e===t&&(s.notify("GA: Initializing at "+e,1),this.initialize(),this.flushQueue(),this.trackInitialPageView())},call:function(e,t,n,r){if(this._cancelToolInit)return;var i=this.settings,o=this.tracker(),u=this.cmd(e),r=r?[u].concat(r):[u];_gaq.push(r),o?s.notify("GA: sent command "+e+" to tracker "+o+(r.length>1?" with parameters ["+r.slice(1).join(", ")+"]":"")+".",1):s.notify("GA: sent command "+e+(r.length>1?" with parameters ["+r.slice(1).join(", ")+"]":"")+".",1)},$missing$:function(e,t,n,r){this.call(e,t,n,r)},$postTransaction:function(t,n,r){var i=s.data.customVars.transaction=e[r];this.call("addTrans",t,n,[i.orderID,i.affiliation,i.total,i.tax,i.shipping,i.city,i.state,i.country]),s.each(i.items,function(e){this.call("addItem",t,n,[e.orderID,e.sku,e.product,e.category,e.unitPrice,e.quantity])},this),this.call("trackTrans",t,n)},delayLink:function(e,t){var n=this;if(!this.allowLinker())return;if(!e.hostname.match(this.settings.linkerDomains))return;if(s.isSubdomainOf(e.hostname,location.hostname))return;s.preventDefault(t);var r=s.settings.linkDelay||100;setTimeout(function(){n.call("link",e,t,[e.href])},r)},popupLink:function(t,n){if(!e._gat)return;s.preventDefault(n);var r=this.settings.account,i=e._gat._createTracker(r),o=i._getLinkerUrl(t.href);e.open(o)},$link:function(e,t){e.getAttribute("target")==="_blank"?this.popupLink(e,t):this.delayLink(e,t)},$trackEvent:function(e,t){var n=Array.prototype.slice.call(arguments,2);if(n.length>=4){var r=parseInt(n[3],10);r!==r&&(r=1),n[3]=r}this.call("trackEvent",e,t,n)}}),s.availableTools.ga=m,s.inherit(g,s.BaseTool),s.extend(g.prototype,{name:"tnt",myInitialize:function(){var t=this.settings.mboxURL;typeof t=="object"&&(e.location.protocol==="https:"?t=t.https:t=t.http),t.match(/^https?:/)||(t=s.basePath()+t),this.settings.initTool!==!1?(s.loadScript(t,s.bind(function(){s.notify("Test & Target: loaded.",1),this.flushQueue(),this.initialized=!0,this.initializing=!1},this)),this.initializing=!0):this.initialized=!0},$addMbox:function(e,t,n){var r=n.mboxGoesAround,i=r+"{visibility: hidden;}",s=this.appendStyle(i);r in this.styleElements||(this.styleElements[r]=s),this.initialized?this.$addMBoxStep2(null,null,n):this.initializing&&this.queueCommand({command:"addMBoxStep2",arguments:[n]},e,t)},$addMBoxStep2:function(n,r,i){var o=this.generateID(),u=this;s.addEventHandler(e,"load",s.bind(function(){s.cssQuery(i.mboxGoesAround,function(n){var r=n[0];if(!r)return;var s=t.createElement("div");s.id=o,r.parentNode.replaceChild(s,r),s.appendChild(r),e.mboxDefine(o,i.mboxName);var a=[i.mboxName];i.arguments&&(a=a.concat(i.arguments)),e.mboxUpdate.apply(null,a),u.reappearWhenCallComesBack(r,o,i.timeout,i)})},this)),this.lastMboxID=o},generateID:function(){var e="_sdsat_mbox_"+String(Math.random()).substring(2)+"_";return e},appendStyle:function(e){var n=t.getElementsByTagName("head")[0],r=t.createElement("style");return r.type="text/css",r.styleSheet?r.styleSheet.cssText=e:r.appendChild(t.createTextNode(e)),n.appendChild(r),r},reappearWhenCallComesBack:function(e,t,n,r){function o(){var e=i.styleElements[r.mboxGoesAround];e&&(e.parentNode.removeChild(e),delete i.styleElements[r.mboxGoesAround])}var i=this;s.cssQuery('script[src*="omtrdc.net"]',function(e){var t=e[0];if(t){s.scriptOnLoad(t.src,t,function(){s.notify("Test & Target: request complete",1),o(),clearTimeout(r)});var r=setTimeout(function(){s.notify("Test & Target: bailing after "+n+"ms",1),o()},n)}else s.notify("Test & Target: failed to find T&T ajax call, bailing",1),o()})}}),s.availableTools.tnt=g,s.ecommerce={addItem:function(){var e=[].slice.call(arguments);s.onEvent({type:"ecommerce.additem",target:e})},addTrans:function(){var e=[].slice.call(arguments);s.data.saleData.sale={orderId:e[0],revenue:e[2]},s.onEvent({type:"ecommerce.addtrans",target:e})},trackTrans:function(){s.onEvent({type:"ecommerce.tracktrans",target:[]})}},_satellite.init({tools:{},pageLoadRules:[],rules:[],directCallRules:[],settings:{trackInternalLinks:!0,libraryName:"satelliteLib-bee1ce9b89e943a46b1dfd167adc564fe75eef37",allowGATTcalls:!1,downloadExtensions:/\.(?:doc|docx|eps|jpg|png|svg|xls|ppt|pptx|pdf|xlsx|tab|csv|zip|txt|vsd|vxd|xml|js|css|rar|exe|wma|mov|avi|wmv|mp3|wav|m4v)($|\&|\?)/i,notifications:!1,utilVisible:!1,domainList:["att.com"],spansSubdomains:!1,scriptDir:"8bb7555f31d461fe2aef4e2d53a11a03e7f9a04c/scripts/",tagTimeout:3e3},data:{URI:t.location.pathname+t.location.search,browser:{},cartItems:[],revenue:"",host:{http:"www.att.com/scripts/satellite/prod",https:"www.att.com/scripts/satellite/prod"}},dataElements:{}})})(window,document);
